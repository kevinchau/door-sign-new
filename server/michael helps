if event.dtstart.value.is_a?(Date)
  #do stuff for all day event
else
  #do stuff for time event
end

start_time = event.dtstart.value
end_time = event.dtend.value

start_time = start_time.at_beginning_of_day if start_time.is_a?(Date)
end_time = end_time.at_end_of_day if end_time.is_a?(Date)

if Time.now > start_time && Time.now < end_time
  # during event
end
